<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>wm-devops-console documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">wm-devops-console documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>EditContainerComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/components/staging.component.ts</code>
</p>





<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>edit-container</code></td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>../templates/container-host.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_ignore">_ignore</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#activeCtrl">activeCtrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#container">container</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#data">data</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dialogRef">dialogRef</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#formBuilder">formBuilder</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#formGroup">formGroup</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#hint">hint</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#hostCtrl">hostCtrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#hostLabel">hostLabel</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#imageCtrl">imageCtrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#portCtrl">portCtrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#portLabel">portLabel</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#privateHost">privateHost</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#privatePort">privatePort</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#publicHost">publicHost</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#publicPort">publicPort</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#closeDialog">closeDialog</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#enableControls">enableControls</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(dialogRef: <a href="../classes/Container.html">MatDialogRef<EditContainerComponent></a>, data: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="239" class="link-to-prism">src/app/components/staging.component.ts:239</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>dialogRef</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/Container.html" target="_self" >MatDialogRef&lt;EditContainerComponent&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>data</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeDialog"></a>
                    <span class="name">
                        <b>
                            closeDialog
                        </b>
                        <a href="#closeDialog"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closeDialog()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="319"
                            class="link-to-prism">src/app/components/staging.component.ts:319</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="enableControls"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            enableControls
                        </b>
                        <a href="#enableControls"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>enableControls()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="324"
                            class="link-to-prism">src/app/components/staging.component.ts:324</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_ignore"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _ignore</b>
                            <a href="#_ignore"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="239" class="link-to-prism">src/app/components/staging.component.ts:239</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="activeCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            activeCtrl</b>
                            <a href="#activeCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormControl" target="_blank" >FormControl</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="225" class="link-to-prism">src/app/components/staging.component.ts:225</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="container"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            container</b>
                            <a href="#container"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/Container.html" target="_self" >Container</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="221" class="link-to-prism">src/app/components/staging.component.ts:221</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="data"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            data</b>
                            <a href="#data"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @Inject(MAT_DIALOG_DATA)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="241" class="link-to-prism">src/app/components/staging.component.ts:241</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dialogRef"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            dialogRef</b>
                            <a href="#dialogRef"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/Container.html" target="_self" >MatDialogRef&lt;EditContainerComponent&gt;</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="241" class="link-to-prism">src/app/components/staging.component.ts:241</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="formBuilder"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            formBuilder</b>
                            <a href="#formBuilder"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/Builder.html" target="_self" >FormBuilder</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="223" class="link-to-prism">src/app/components/staging.component.ts:223</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="formGroup"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            formGroup</b>
                            <a href="#formGroup"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormGroup" target="_blank" >FormGroup</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="224" class="link-to-prism">src/app/components/staging.component.ts:224</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hint"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            hint</b>
                            <a href="#hint"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="230" class="link-to-prism">src/app/components/staging.component.ts:230</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hostCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            hostCtrl</b>
                            <a href="#hostCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormControl" target="_blank" >FormControl</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="226" class="link-to-prism">src/app/components/staging.component.ts:226</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hostLabel"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            hostLabel</b>
                            <a href="#hostLabel"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="232" class="link-to-prism">src/app/components/staging.component.ts:232</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="imageCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            imageCtrl</b>
                            <a href="#imageCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormControl" target="_blank" >FormControl</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="228" class="link-to-prism">src/app/components/staging.component.ts:228</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="portCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            portCtrl</b>
                            <a href="#portCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormControl" target="_blank" >FormControl</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="227" class="link-to-prism">src/app/components/staging.component.ts:227</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="portLabel"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            portLabel</b>
                            <a href="#portLabel"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="233" class="link-to-prism">src/app/components/staging.component.ts:233</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="privateHost"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            privateHost</b>
                            <a href="#privateHost"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="236" class="link-to-prism">src/app/components/staging.component.ts:236</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="privatePort"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            privatePort</b>
                            <a href="#privatePort"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="237" class="link-to-prism">src/app/components/staging.component.ts:237</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="publicHost"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            publicHost</b>
                            <a href="#publicHost"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="234" class="link-to-prism">src/app/components/staging.component.ts:234</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="publicPort"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            publicPort</b>
                            <a href="#publicPort"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="235" class="link-to-prism">src/app/components/staging.component.ts:235</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, ChangeDetectorRef, EventEmitter,
			OnInit, OnChanges, OnDestroy, Input, Inject,
										Output }   		from &#x27;@angular/core&#x27;;

import { Router }									  	from &#x27;@angular/router&#x27;;
import {FormBuilder, FormGroup, FormControl, 
								Validators} 			from &#x27;@angular/forms&#x27;;
import { SelectionModel }                             	from &#x27;@angular/cdk/collections&#x27;;

import { MediaMatcher }                               	from &#x27;@angular/cdk/layout&#x27;;
import { MatAccordion }                               	from &#x27;@angular/material&#x27;;
import { MatInput, MatButton }							from &#x27;@angular/material&#x27;;
import { MatDialog, MatDialogRef, DialogPosition,
					MAT_DIALOG_DATA }	  				from &#x27;@angular/material&#x27;;

import { Stage, Deployment, Container, Action }         from &#x27;../models/project&#x27;;
import { APIDefinition }               					from &#x27;../models/wm-package-info&#x27;;

@Component({
  selector: &#x27;staging&#x27;,
  templateUrl: &#x27;../templates/stage.html&#x27;
})

export class StagingComponent implements OnInit, OnChanges {

	@Input()
	public stage: Stage;

	@Input()
	public form: FormGroup;

	@Output()
	public stageUpdated: EventEmitter&lt;Stage&gt; &#x3D; new EventEmitter();

	public apiMaturityList: string[] &#x3D; [&quot;Beta&quot;, &quot;Test&quot;, &quot;Production&quot;, &quot;Deprecated&quot;];

	public stageNameCtrl: FormControl;
  	public containerNameCtrl: FormControl;
  	public buildServiceCtrl: FormControl;
  	public runTypeCtrl: FormControl;

  	private _ignoreValueChanges: boolean;

  	public constructor(private _formBuilder: FormBuilder, private _dialog: MatDialog) {
  	}

	public ngOnInit() {

		console.log(&quot;stage is &quot; + this.stage.name);

		this._setupForm();
	}

	public ngOnChanges() {
		
		this.updateForm();
	}

	public haveAPIs(): boolean {

		var found: boolean &#x3D; false;

		for (var i&#x3D;0; i &lt; this.stage.deployments.length; i++) {

			if (this.stage.deployments[i].apis.length &gt; 0) {
				found &#x3D; true;
				break;
			}
		}

		return found;
	}

	public actionChanged(action: Action) {

		if (this.stage.onStart.runTests) {
			if (!this.stage.onSuccess)
				this.stage.onSuccess &#x3D; new Action();

			if (!this.stage.onFail)
				this.stage.onFail &#x3D; new Action();

			this.stage.onSuccess.active &#x3D; &quot;true&quot;;
			this.stage.onFail.active &#x3D; &quot;true&quot;;
		} else {
			if (this.stage.onSuccess.isActive()) {
				this.stage.onSuccess &#x3D; new Action();
				this.stage.onSuccess.active &#x3D; &quot;false&quot;;
			}

			if (this.stage.onFail.isActive()) {
				this.stage.onFail &#x3D; new Action();
				this.stage.onFail.active &#x3D; &quot;false&quot;;
			}
		}
		
		return this._save();
	}

	public activationChanged(obj: any) {

		let ref: StagingComponent &#x3D; this;
		setTimeout(() &#x3D;&gt; {
			obj.active &#x3D; !obj.active;
			ref._save();
		});
	}

	public colorForContainer(container: Container) {

		if (container.active &#x3D;&#x3D; &quot;true&quot;)
			return &quot;primary&quot;;
		else if (container.hostname) 
			return &quot;accent&quot;;
		else
			return &quot;gray&quot;;
	}

	public editContainer(container: Container, event: any) {

		let x &#x3D; event.pageX;
		let y &#x3D; event.pageY;

		let dialogRef &#x3D; this._dialog.open(EditContainerComponent, {
			data: { container: container, formBuilder: this._formBuilder },
			width: &#x27;360px&#x27;,
  			height: &#x27;300px&#x27;,
		});

		console.log(&quot;left: &#x27;${x}px&#x27;, top: &#x27;${y}px&#x27;&quot;);

		dialogRef.updatePosition({ left: x + &quot;px&quot;, top: y + &quot;px&quot; });

		dialogRef.afterClosed().subscribe(container &#x3D;&gt; {
  			console.log(&#x60;Dialog result: ${container}&#x60;);

  			this._save();
		});
	}

	public removeAPI(service: Deployment, api: APIDefinition) {

		service.removeAPI(api);
		this._save();
	}

	public removeContainer(service: Deployment, container: Container) {

		service.removeContainer(container);
		this._save();
	}

	private updateForm() {

		if (this.stageNameCtrl) {

			this._ignoreValueChanges &#x3D; true;

			this.stageNameCtrl.setValue(this.stage ? this.stage.name : &quot;&quot;);
	  		this.containerNameCtrl.setValue(this.stage ? this.stage.containerHost: &quot;&quot;);
	  		this.runTypeCtrl.setValue(this.stage ? (this.stage.useKubernetes &#x3D;&#x3D; &quot;true&quot; ? &quot;k8s&quot; : &quot;docker&quot;) : &quot;docker&quot;);
	  		this.buildServiceCtrl.setValue(this.stage ? this.stage.buildOnStart &#x3D;&#x3D; &quot;true&quot; ? true : false : false);

	  		this._ignoreValueChanges &#x3D; false;
  		}
	}

	private _setupForm() {

  		this.stageNameCtrl &#x3D; new FormControl();
  		this.containerNameCtrl &#x3D; new FormControl();
  		this.runTypeCtrl &#x3D; new FormControl(&quot;docker&quot;);
  		this.buildServiceCtrl &#x3D; new FormControl();

  		this.form.addControl(&quot;stageNameCtrl&quot;, this.stageNameCtrl);
  		this.form.addControl(&quot;containerNameCtrl&quot;, this.containerNameCtrl);
  		this.form.addControl(&quot;runTypeCtrl&quot;, this.runTypeCtrl);
  		this.form.addControl(&quot;buildServiceCtrl&quot;, this.buildServiceCtrl);

  		this.updateForm();

  		this.form.valueChanges.subscribe((d) &#x3D;&gt; {

  			if (this._ignoreValueChanges)
  				return;

			if (this.stageNameCtrl.dirty)
				this.stage.name &#x3D; this.stageNameCtrl.value;

			if (this.containerNameCtrl.dirty)
				this.stage.containerHost &#x3D; this.containerNameCtrl.value;

			if (this.runTypeCtrl.dirty)
				this.stage.useKubernetes &#x3D; &quot;&quot; + (this.runTypeCtrl.value &#x3D;&#x3D; &quot;k8s&quot;);

			if (this.buildServiceCtrl.dirty)
				this.stage.buildOnStart &#x3D; &quot;&quot; + this.buildServiceCtrl.value;
			
			this._save();
		}); 
  	}

  	private _save() {

  		if (this.stage.onStart.runTests &#x3D;&#x3D; &quot;false&quot;) {

  			this.stage.onSuccess &#x3D; new Action();
  			this.stage.onFail &#x3D; new Action();
  		}

  		this.stageUpdated.emit(this.stage);
  	}
}

@Component({
	selector: &#x27;edit-container&#x27;,
  	templateUrl: &#x27;../templates/container-host.html&#x27;
})
export class EditContainerComponent {

	public container: Container;

	public formBuilder: FormBuilder;
	public formGroup: FormGroup;
	public activeCtrl: FormControl;
	public hostCtrl: FormControl;
	public portCtrl: FormControl;
	public imageCtrl: FormControl;

	public hint: string;

	public hostLabel:  string;
	public portLabel: string;
	public publicHost: string;
	public publicPort:  string;
	public privateHost: string;
	public privatePort:  string;

	private _ignore: boolean &#x3D; false;

	constructor(public dialogRef: MatDialogRef&lt;EditContainerComponent&gt;, @Inject(MAT_DIALOG_DATA) public data: any) { 

		this.container &#x3D; data.container;
		this.formBuilder &#x3D; data.formBuilder;

		this.activeCtrl &#x3D; new FormControl(this.container.active &#x3D;&#x3D; &quot;true&quot; ? true : false);

		if (this.activeCtrl.value) {

			this.hostCtrl &#x3D; new FormControl(this.container.name);
			this.portCtrl &#x3D; new  FormControl(this.container.ports[0].internal);
		} else {

			this.hostCtrl &#x3D; new FormControl(this.container.hostname);
			this.portCtrl &#x3D; new  FormControl(this.container.ports[0].external);
		}
		
		this.imageCtrl &#x3D; new FormControl(this.container.image);
		this.imageCtrl.disable();
		
		this.formGroup &#x3D; this.formBuilder.group({
			activeCtrl: this.activeCtrl,
			hostCtrl: this.hostCtrl,
			portCtrl: this.portCtrl,
			imageCtrl: this.imageCtrl
		});

		this.formGroup.valueChanges.subscribe((d) &#x3D;&gt; {

			if (this._ignore)
				return;

			if (((this.activeCtrl.value &amp;&amp; this.container.active &#x3D;&#x3D; &quot;false&quot;) 
				|| !this.activeCtrl.value &amp;&amp; this.container.active &#x3D;&#x3D; &quot;true&quot;)) {

				if (this.activeCtrl.value) {
					this.container.active &#x3D; &quot;true&quot;;
					this.container.hostname &#x3D; this.privateHost;
				} else {
					this.container.active &#x3D; &quot;false&quot;;
					this.container.hostname &#x3D; this.publicHost;
				}

				this._ignore &#x3D; true;
				this.enableControls();
				this._ignore &#x3D; false;
			} else {

				this.container.active &#x3D; this.activeCtrl.value ? &quot;true&quot; : &quot;false&quot;;

				if (!this.activeCtrl.value) {
					if (this.hostCtrl.value &amp;&amp; this.hostCtrl.value.length &gt; 0)
						this.container.hostname &#x3D; this.hostCtrl.value;
					else
						this.container.hostname &#x3D; null;

					if (this.activeCtrl.value)
						this.container.ports[0].internal &#x3D; &quot;&quot; + this.portCtrl.value;
					else
						this.container.ports[0].external &#x3D; &quot;&quot; + this.portCtrl.value;
				} else {

					this.container.hostname &#x3D; null;
				}
			}
		});

		if (this.container.hostname &amp;&amp; this.container.hostname.length &gt; 0)
			this.publicHost &#x3D; this.container.hostname;

		this.publicPort &#x3D; this.container.ports[0].external;

		this.privateHost &#x3D; this.container.name;
		this.privatePort &#x3D; this.container.ports[0].internal;

		this.enableControls();
	}

	closeDialog() {

    	this.dialogRef.close(this.container);
  	}

  	private enableControls() {
  		
  		if (this.activeCtrl.value) {
			this.hostCtrl.disable();
			this.portCtrl.disable();

			this.hostLabel &#x3D; &quot;Docker network Host&quot;;
			this.portLabel &#x3D; &quot;Internal Port&quot;;

			this.hostCtrl.setValue(this.privateHost);
			this.portCtrl.setValue(this.privatePort);

			this.hint &#x3D; &quot;Container will be included in stage, intra container communication will be via private network and use container names as hosts&quot;

		} else {
			this.hostCtrl.enable();
			this.portCtrl.enable();

			this.hostLabel &#x3D; &quot;External Host&quot;;
			this.portLabel &#x3D; &quot;Public Port&quot;;

			this.hostCtrl.setValue(this.publicHost);
			this.portCtrl.setValue(this.publicPort);

			if (this.hostCtrl.value)
				this.hint &#x3D; &quot;Not included in stage and if features are required will communicate with external application via host and port&quot;;
			else
				this.hint &#x3D; &quot;Not included in stage and features will not be available for any actions&quot;;
		}

  	}
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;form [formGroup]&#x3D;&quot;formGroup&quot;&gt;
	&lt;div style&#x3D;&quot;float: right&quot; (click)&#x3D;&quot;closeDialog()&quot;&gt;&lt;fa-icon class&#x3D;&quot;icon&quot; [icon]&#x3D;&quot;[&#x27;fas&#x27;, &#x27;times-circle&#x27;]&quot; style&#x3D;&quot;color: gray&quot;&gt;&lt;/fa-icon&gt;&lt;/div&gt;
	&lt;div style&#x3D;&quot;display: flex; flex-direction: column&quot;&gt;
		&lt;mat-slide-toggle formControlName&#x3D;&quot;activeCtrl&quot;&gt;Run Container&lt;/mat-slide-toggle&gt;
		&lt;mat-form-field class&#x3D;&quot;example-full-width&quot; style&#x3D;&quot;margin-top: 30px&quot;&gt;
	    	&lt;input type&#x3D;&quot;text&quot; matInput [placeholder]&#x3D;&quot;hostLabel&quot; formControlName&#x3D;&quot;hostCtrl&quot; disabled&#x3D;&quot;true&quot;&gt;
	  	&lt;/mat-form-field&gt;
	  	&lt;mat-form-field&gt;
	    	&lt;input type&#x3D;&quot;number&quot; matInput [placeholder]&#x3D;&quot;portLabel&quot; formControlName&#x3D;&quot;portCtrl&quot; disabled&#x3D;&quot;true&quot;&gt;
	  	&lt;/mat-form-field&gt;
	  	&lt;div *ngIf&#x3D;&quot;activeCtrl.value&quot; style&#x3D;&quot;width: 100%&quot;&gt;
		  	&lt;mat-form-field style&#x3D;&quot;width: 100%&quot;&gt;
		    	&lt;input type&#x3D;&quot;text&quot; matInput placeholder&#x3D;&quot;Image&quot; formControlName&#x3D;&quot;imageCtrl&quot; disabled&#x3D;&quot;true&quot;&gt;
		  	&lt;/mat-form-field&gt;
	  	&lt;/div&gt;	
	  	&lt;span style&#x3D;&quot;font-size: 10px; color:gray&quot;&gt;{{hint}}&lt;/span&gt; 	
	&lt;/div&gt;
&lt;/form&gt;
</code></pre>
    </div>


    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><form [formGroup]="formGroup">	<div style="float: right" (click)="closeDialog()"><fa-icon class="icon" [icon]="[\'fas\', \'times-circle\']" style="color: gray"></fa-icon></div>	<div style="display: flex; flex-direction: column">		<mat-slide-toggle formControlName="activeCtrl">Run Container</mat-slide-toggle>		<mat-form-field class="example-full-width" style="margin-top: 30px">	    	<input type="text" matInput [placeholder]="hostLabel" formControlName="hostCtrl" disabled="true">	  	</mat-form-field>	  	<mat-form-field>	    	<input type="number" matInput [placeholder]="portLabel" formControlName="portCtrl" disabled="true">	  	</mat-form-field>	  	<div *ngIf="activeCtrl.value" style="width: 100%">		  	<mat-form-field style="width: 100%">		    	<input type="text" matInput placeholder="Image" formControlName="imageCtrl" disabled="true">		  	</mat-form-field>	  	</div>		  	<span style="font-size: 10px; color:gray">{{hint}}</span> 		</div></form></div>'
    var COMPONENTS = [{'name': 'AboutComponent', 'selector': 'about-app'},{'name': 'ActionComponent', 'selector': 'action'},{'name': 'ApiGatewayInstallerComponent', 'selector': 'jc-apigw-install'},{'name': 'ApiMicroGatewayInstallerComponent', 'selector': 'jc-apimg-install'},{'name': 'ApiPortalInstallerComponent', 'selector': 'jc-apipr-installer'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BuildCommandsComponent', 'selector': 'build-commands'},{'name': 'BuildComponent', 'selector': 'build'},{'name': 'BuildExeComponent', 'selector': 'build-exe'},{'name': 'BuildImageComponent', 'selector': 'build-solution'},{'name': 'BuildInstallComponent', 'selector': 'build-install'},{'name': 'BuildPackagesComponent', 'selector': 'build-package'},{'name': 'ContainerComponent', 'selector': 'container'},{'name': 'ContainersComponent', 'selector': 'app-containers'},{'name': 'DeploymentDetailsComponent', 'selector': 'jc-deployment-details'},{'name': 'DeploymentListComponent', 'selector': 'jc-k8s-deployments'},{'name': 'DockerImageChooserComponent', 'selector': 'docker-image-chooser'},{'name': 'DockerImageListComponent', 'selector': 'jc-docker-images'},{'name': 'DockerImageVersionsComponent', 'selector': 'jc-docker-image-versions'},{'name': 'EditContainerComponent', 'selector': 'edit-container'},{'name': 'GitSourcesComponent', 'selector': 'git-source'},{'name': 'HomeComponent', 'selector': 'home'},{'name': 'InstallerComponent', 'selector': 'jc-install'},{'name': 'MicroServiceBuilderComponent', 'selector': 'jc-msc-configure'},{'name': 'MicroServiceInstallerComponent', 'selector': 'jc-msc-install'},{'name': 'PodsListComponent', 'selector': 'jc-pods'},{'name': 'RuntimeContainersComponent', 'selector': 'runtime-containers'},{'name': 'RuntimeDeployComponent', 'selector': 'runtime-deploy'},{'name': 'RuntimeDetailsComponent', 'selector': ''},{'name': 'RuntimeK8sComponent', 'selector': 'runtime'},{'name': 'RuntimeScaleComponent', 'selector': 'jc-runtime-scale'},{'name': 'RuntimeStageComponent', 'selector': 'runtime-stage'},{'name': 'RuntimeUpdateComponent', 'selector': ''},{'name': 'SagImageAlerterComponent', 'selector': 'sag-image-alerter'},{'name': 'ServicePropertiesComponent', 'selector': 'k8s-props'},{'name': 'SettingsComponent', 'selector': 'home'},{'name': 'SimpleNameComponent', 'selector': 'name-dialog'},{'name': 'StagingComponent', 'selector': 'staging'},{'name': 'TestCaseComponent', 'selector': 'test-case'},{'name': 'TestDefinitionComponent', 'selector': 'test-definitions'},{'name': 'TestHistoryComponent', 'selector': 'test-history'},{'name': 'TestRunComponent', 'selector': 'test-reun'},{'name': 'UMInstallerComponent', 'selector': 'jc-um-install'},{'name': 'UploadButtonComponent', 'selector': 'file-uploader-button'}];
    var DIRECTIVES = [{'name': 'BuildImageChooseDirective', 'selector': '[builder]'},{'name': 'CancelCdkDrag', 'selector': '[appCancelCdkDrag]'},{'name': 'NgFileDrop', 'selector': '[ng-file-drop]'},{'name': 'NgFileSelect', 'selector': '[ng-file-select]'},{'name': 'RuntimeActionsDirective', 'selector': '[runtime-actions]'}];
    var ACTUAL_COMPONENT = {'name': 'EditContainerComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'EditContainerComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
